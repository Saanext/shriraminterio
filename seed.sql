-- Drop existing tables and policies to ensure a clean slate on re-runs.
DROP POLICY IF EXISTS "Enable read access for all users" ON "storage"."objects";
DROP POLICY IF EXISTS "Enable insert for authenticated users only" ON "storage"."objects";
DROP TABLE IF EXISTS "public"."sections";
DROP TABLE IF EXISTS "public"."pages";
DROP TABLE IF EXISTS "public"."stories";
DROP TABLE IF EXISTS "public"."products";

-- Create the tables
CREATE TABLE "public"."pages" (
    "id" bigint NOT NULL,
    "created_at" timestamp with time zone NOT NULL DEFAULT now(),
    "title" text,
    "slug" text NOT NULL,
    "meta_title" text,
    "meta_description" text,
    "parent_slug" text,
    "nav_order" smallint
);
ALTER TABLE "public"."pages" ALTER COLUMN "id" ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME "public"."pages_id_seq"
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);
ALTER TABLE ONLY "public"."pages" ADD CONSTRAINT "pages_pkey" PRIMARY KEY ("id");
ALTER TABLE ONLY "public"."pages" ADD CONSTRAINT "pages_slug_parent_slug_key" UNIQUE ("slug", "parent_slug");

CREATE TABLE "public"."sections" (
    "id" bigint NOT NULL,
    "created_at" timestamp with time zone NOT NULL DEFAULT now(),
    "page_id" bigint,
    "type" text,
    "title" text,
    "content" "jsonb",
    "content_structure" "jsonb",
    "order" smallint,
    "visible" boolean DEFAULT true
);
ALTER TABLE "public"."sections" ALTER COLUMN "id" ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME "public"."sections_id_seq"
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);
ALTER TABLE ONLY "public"."sections" ADD CONSTRAINT "sections_pkey" PRIMARY KEY ("id");
ALTER TABLE ONLY "public"."sections"
    ADD CONSTRAINT "sections_page_id_fkey" FOREIGN KEY (page_id) REFERENCES public.pages(id) ON DELETE CASCADE;
ALTER TABLE ONLY "public"."sections" ADD CONSTRAINT "sections_page_id_type_key" UNIQUE (page_id, type);

CREATE TABLE "public"."stories" (
    "id" bigint NOT NULL,
    "created_at" timestamp with time zone NOT NULL DEFAULT now(),
    "slug" text NOT NULL,
    "title" text NOT NULL,
    "image" text NOT NULL,
    "dataAiHint" text,
    "category" text,
    "excerpt" text,
    "author" text,
    "authorAvatar" text,
    "date" text,
    "clientImage" text,
    "location" text,
    "project" text,
    "size" text,
    "quote" text,
    "content" text,
    "gallery" jsonb
);
ALTER TABLE "public"."stories" ALTER COLUMN "id" ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME "public"."stories_id_seq"
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);
ALTER TABLE ONLY "public"."stories" ADD CONSTRAINT "stories_pkey" PRIMARY KEY ("id");
ALTER TABLE ONLY "public"."stories" ADD CONSTRAINT "stories_slug_key" UNIQUE (slug);

CREATE TABLE "public"."products" (
    "id" bigint NOT NULL,
    "created_at" timestamp with time zone NOT NULL DEFAULT now(),
    "name" text NOT NULL,
    "slug" text NOT NULL,
    "short_description" text,
    "long_description" text,
    "main_image" text,
    "features" jsonb,
    "gallery" jsonb,
    "amazon_link" text
);
ALTER TABLE "public"."products" ALTER COLUMN "id" ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME "public"."products_id_seq"
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);
ALTER TABLE ONLY "public"."products" ADD CONSTRAINT "products_pkey" PRIMARY KEY ("id");
ALTER TABLE ONLY "public"."products" ADD CONSTRAINT "products_slug_key" UNIQUE (slug);


-- Insert initial data
INSERT INTO public.pages (title, slug, meta_title, meta_description, parent_slug, nav_order) VALUES
('Home', 'home', 'Shriram Interio - Top Interior Designers in Pune', 'Pune''s leading interior design company for modular kitchens, wardrobes, and full home interiors. Get a free quote today!', NULL, 1),
('About Us', 'about', 'About Shriram Interio | Our Story & Team', 'Learn about Shriram Interio, our mission, vision, and the expert team that makes us Pune''s top interior design firm.', NULL, 2),
('Customer Stories', 'customer-stories', 'Customer Success Stories | Shriram Interio Projects', 'Read inspiring stories from our happy clients. See how we transformed their homes with our interior design expertise.', NULL, 3),
('Products', 'products', 'Interior Design Products | Modular Kitchens, Wardrobes & More', 'Explore our range of high-quality products including modular kitchens, wardrobes, beds, entertainment units, and more.', NULL, 4),
('How It Works', 'how-it-works', 'Our Interior Design Process | Shriram Interio', 'Understand our simple 5-step process for a seamless interior design experience, from consultation to project delivery.', NULL, 5),
('Services', 'services', 'Interior Design Services in Pune | Shriram Interio', 'We offer a wide range of interior design services including modular kitchens, full home interiors, and exterior design.', NULL, 6),
('Portfolio', 'portfolio', 'Interior Design Portfolio | Shriram Interio''s Best Work', 'Browse our portfolio of completed projects. See our expertise in creating stunning living areas, kitchens, and bedrooms.', NULL, 7),
('Contact', 'contact', 'Contact Shriram Interio | Get in Touch', 'Contact us for a free consultation. Find our address, phone number, and email to start your interior design journey.', NULL, 8),
('Clients', 'clients', 'Our Clients | Testimonials & Reviews', 'See what our clients have to say about us. Read reviews and watch video testimonials from our satisfied customers.', NULL, 9),
('Appointment', 'appointment', 'Book an Appointment | Shriram Interio', 'Schedule a free design consultation with our experts. Book your appointment online today.', NULL, 10),
('Get a Quote', 'get-a-quote', 'Get a Free Interior Design Quote | Shriram Interio', 'Request a free, no-obligation quote for your interior design project. Fill out our form to get started.', NULL, 11),
('Project Tracking', 'tracking', 'Track Your Project | Shriram Interio', 'Stay updated on the progress of your interior design project. Enter your project ID to see the latest status.', NULL, 12);

INSERT INTO public.sections (page_id, type, title, content, content_structure, "order", visible) VALUES
((SELECT id from public.pages where slug = 'home'), 'hero', 'Hero Section', '{"buttonText": "Explore Our Services", "slides": [{"image": "https://gzlakbpbhhxxpzbbifus.supabase.co/storage/v1/object/public/public/hero-1.jpg"}, {"image": "https://gzlakbpbhhxxpzbbifus.supabase.co/storage/v1/object/public/public/hero-2.jpg"}, {"image": "https://gzlakbpbhhxxpzbbifus.supabase.co/storage/v1/object/public/public/hero-3.jpg"}], "subtitle": "Pune''s Premier Destination for Modular Kitchens, Wardrobes, and Full Home Interiors", "title": "Crafting Dream Spaces, One Home at a Time", "videoUrl": "https://gzlakbpbhhxxpzbbifus.supabase.co/storage/v1/object/public/public/hero-video.mp4"}', '{"buttonText": {"type": "text", "label": "Button Text"}, "slides": {"type": "repeater", "fields": {"image": {"type": "image", "label": "Image"}}, "label": "Image Slides"}, "subtitle": {"type": "textarea", "label": "Subtitle"}, "title": {"type": "text", "label": "Title"}, "videoUrl": {"type": "text", "label": "Background Video URL"}}', 1, true),
((SELECT id from public.pages where slug = 'home'), 'welcome', 'Welcome Section', '{"image": "https://gzlakbpbhhxxpzbbifus.supabase.co/storage/v1/object/public/public/welcome-image.jpg", "paragraph1": "At Shriram Interio, we believe that your home is a reflection of your personality and style. We are dedicated to transforming your vision into reality, creating spaces that are not only beautiful but also functional and comfortable. Our team of experienced designers works closely with you to understand your needs and preferences, ensuring a personalized and seamless experience from start to finish.", "paragraph2": "Whether you are looking to design your dream kitchen, a luxurious wardrobe, or a complete home makeover, we are here to guide you every step of the way. Explore our services and let''s build your dream home together."}', '{"image": {"type": "image", "label": "Image"}, "paragraph1": {"type": "textarea", "label": "Paragraph 1"}, "paragraph2": {"type": "textarea", "label": "Paragraph 2"}}', 2, true),
((SELECT id from public.pages where slug = 'home'), 'about_company', 'About Company Section', '{"text": "your trusted partner for creating beautiful and functional living spaces in Pune. Our mission is to provide top-quality modular kitchens, wardrobes, and complete home interior solutions that perfectly match your lifestyle and budget. With a commitment to excellence and customer satisfaction, we turn your dream home into a reality.", "title": "About Shriram Interio"}', '{"text": {"type": "textarea", "label": "Text"}, "title": {"type": "text", "label": "Title"}}', 3, true),
((SELECT id from public.pages where slug = 'home'), 'why_us', 'Why Us Section', '{"items": [{"description": "Our team of skilled designers brings creativity and expertise to every project.", "title": "Expert Design Team"}, {"description": "We offer a wide variety of styles, materials, and finishes to suit your taste.", "title": "Variety of Design Choices"}, {"description": "Get high-quality design solutions that fit your budget without compromise.", "title": "Affordable Design Fees"}, {"description": "We ensure your project is completed on schedule, every time.", "title": "On-Time Project Delivery"}], "subtitle": "Experience the difference with our commitment to quality, affordability, and timely delivery.", "title": "Why Choose Shriram Interio?"}', '{"items": {"type": "repeater", "fields": {"description": {"type": "textarea", "label": "Description"}, "title": {"type": "text", "label": "Title"}}, "label": "Items"}, "subtitle": {"type": "text", "label": "Subtitle"}, "title": {"type": "text", "label": "Title"}}', 4, true),
((SELECT id from public.pages where slug = 'home'), 'work_gallery', 'Work Gallery Section', '{"items": [{"hint": "modern kitchen", "image": "https://gzlakbpbhhxxpzbbifus.supabase.co/storage/v1/object/public/public/gallery-1.jpg", "title": "Modern Kitchen"}, {"hint": "elegant living room", "image": "https://gzlakbpbhhxxpzbbifus.supabase.co/storage/v1/object/public/public/gallery-2.jpg", "title": "Living Room"}, {"hint": "cozy bedroom", "image": "https://gzlakbpbhhxxpzbbifus.supabase.co/storage/v1/object/public/public/gallery-3.jpg", "title": "Bedroom"}], "subtitle": "Explore some of our finest work and get inspired for your own home.", "title": "Our Work Gallery"}', '{"items": {"type": "repeater", "fields": {"hint": {"type": "text", "label": "AI Hint"}, "image": {"type": "image", "label": "Image"}, "title": {"type": "text", "label": "Title"}}, "label": "Gallery Items"}, "subtitle": {"type": "text", "label": "Subtitle"}, "title": {"type": "text", "label": "Title"}}', 5, true),
((SELECT id from public.pages where slug = 'home'), 'comfort_design', 'Comfort Design Section', '{"items": [{"description": "Visualize your space before we start, with realistic 3D renderings.", "title": "Live 3D Designs"}, {"description": "Design your home from anywhere with our virtual collaboration tools.", "title": "Contactless Experience"}, {"description": "Transparent and upfront pricing to help you make informed decisions.", "title": "Instant Pricing"}, {"description": "Our team''s dedication and passion shine through in every detail.", "title": "Expertise & Passion"}], "subtitle": "We bring the design process to you, making it convenient and stress-free.", "title": "Design at Your Comfort"}', '{"items": {"type": "repeater", "fields": {"description": {"type": "textarea", "label": "Description"}, "title": {"type": "text", "label": "Title"}}, "label": "Items"}, "subtitle": {"type": "text", "label": "Subtitle"}, "title": {"type": "text", "label": "Title"}}', 6, true),
((SELECT id from public.pages where slug = 'home'), 'what_we_do', 'What We Do Section', '{"bestSellingKitchens": [{"hint": "L-shaped modular kitchen", "image": "https://gzlakbpbhhxxpzbbifus.supabase.co/storage/v1/object/public/public/kitchen-1.jpg", "name": "L-Shaped Modular Kitchen"}, {"hint": "U-shaped kitchen design", "image": "https://gzlakbpbhhxxpzbbifus.supabase.co/storage/v1/object/public/public/kitchen-2.jpg", "name": "U-Shaped Kitchen"}], "bestSellingWardrobes": [{"hint": "sliding door wardrobe", "image": "https://gzlakbpbhhxxpzbbifus.supabase.co/storage/v1/object/public/public/wardrobe-1.jpg", "name": "Sliding Door Wardrobe"}, {"hint": "walk-in wardrobe design", "image": "https://gzlakbpbhhxxpzbbifus.supabase.co/storage/v1/object/public/public/wardrobe-2.jpg", "name": "Walk-in Wardrobe"}], "subtitle": "From trending designs to best-selling classics, we have something for every home.", "title": "What We Do", "trendingItems": [{"hint": "modern TV unit", "image": "https://gzlakbpbhhxxpzbbifus.supabase.co/storage/v1/object/public/public/trending-1.jpg", "name": "Modern TV Unit"}, {"hint": "luxury bedroom interior", "image": "https://gzlakbpbhhxxpzbbifus.supabase.co/storage/v1/object/public/public/trending-2.jpg", "name": "Luxury Bedroom"}]}', '{"bestSellingKitchens": {"type": "repeater", "fields": {"hint": {"type": "text", "label": "AI Hint"}, "image": {"type": "image", "label": "Image"}, "name": {"type": "text", "label": "Name"}}, "label": "Best Selling Kitchens"}, "bestSellingWardrobes": {"type": "repeater", "fields": {"hint": {"type": "text", "label": "AI Hint"}, "image": {"type": "image", "label": "Image"}, "name": {"type": "text", "label": "Name"}}, "label": "Best Selling Wardrobes"}, "subtitle": {"type": "text", "label": "Subtitle"}, "title": {"type": "text", "label": "Title"}, "trendingItems": {"type": "repeater", "fields": {"hint": {"type": "text", "label": "AI Hint"}, "image": {"type": "image", "label": "Image"}, "name": {"type": "text", "label": "Name"}}, "label": "Trending Items"}}', 7, true),
((SELECT id from public.pages where slug = 'home'), 'testimonials', 'Testimonials Section', '{"buttonText": "View All Testimonials", "items": [{"image": "https://gzlakbpbhhxxpzbbifus.supabase.co/storage/v1/object/public/public/testimonial-1.jpg", "name": "Rohan & Priya", "review": "Shriram Interio transformed our vision into a stunning reality. The team was professional, creative, and delivered beyond our expectations."}, {"image": "https://gzlakbpbhhxxpzbbifus.supabase.co/storage/v1/object/public/public/testimonial-2.jpg", "name": "Anjali Mehta", "review": "The modular kitchen they designed is both beautiful and highly functional. The entire process was smooth and hassle-free."}], "subtitle": "See what our happy clients have to say about their experience with us.", "title": "Client Testimonials"}', '{"buttonText": {"type": "text", "label": "Button Text"}, "items": {"type": "repeater", "fields": {"image": {"type": "image", "label": "Image"}, "name": {"type": "text", "label": "Name"}, "review": {"type": "textarea", "label": "Review"}}, "label": "Items"}, "subtitle": {"type": "text", "label": "Subtitle"}, "title": {"type": "text", "label": "Title"}}', 8, true),
((SELECT id from public.pages where slug = 'home'), 'faq', 'FAQ Section', '{"items": [{"answer": "The timeline for a project can vary depending on the scope and complexity. A typical modular kitchen can take 4-6 weeks, while a full home interior project may take 8-12 weeks from design approval to handover.", "question": "How long does a typical interior design project take?"}, {"answer": "Yes, we provide a warranty on all our products and services. The warranty period depends on the product category and will be detailed in your project agreement.", "question": "Do you provide a warranty for your work?"}, {"answer": "Absolutely! We encourage you to be as involved as you''d like. Our designers will collaborate with you to ensure your ideas and preferences are incorporated into the final design.", "question": "Can I provide my own design ideas?"}], "subtitle": "Find answers to common questions about our services and process.", "title": "Frequently Asked Questions"}', '{"items": {"type": "repeater", "fields": {"answer": {"type": "textarea", "label": "Answer"}, "question": {"type": "text", "label": "Question"}}, "label": "FAQ Items"}, "subtitle": {"type": "text", "label": "Subtitle"}, "title": {"type": "text", "label": "Title"}}', 9, true),
((SELECT id from public.pages where slug = 'home'), 'partners', 'Partners Section', '{"items": [{"logoSrc": "https://gzlakbpbhhxxpzbbifus.supabase.co/storage/v1/object/public/public/logo-1.png", "name": "Partner One"}, {"logoSrc": "https://gzlakbpbhhxxpzbbifus.supabase.co/storage/v1/object/public/public/logo-2.png", "name": "Partner Two"}, {"logoSrc": "https://gzlakbpbhhxxpzbbifus.supabase.co/storage/v1/object/public/public/logo-3.png", "name": "Partner Three"}, {"logoSrc": "https://gzlakbpbhhxxpzbbifus.supabase.co/storage/v1/object/public/public/logo-4.png", "name": "Partner Four"}, {"logoSrc": "https://gzlakbpbhhxxpzbbifus.supabase.co/storage/v1/object/public/public/logo-5.png", "name": "Partner Five"}], "subtitle": "OUR TRUSTED PARTNERS", "title": "We Collaborate With the Best"}', '{"items": {"type": "repeater", "fields": {"logoSrc": {"type": "image", "label": "Logo"}, "name": {"type": "text", "label": "Name"}}, "label": "Partners"}, "subtitle": {"type": "text", "label": "Subtitle"}, "title": {"type": "text", "label": "Title"}}', 10, true),
((SELECT id from public.pages where slug = 'about'), 'hero', 'Hero Section', '{"backgroundImage": "https://gzlakbpbhhxxpzbbifus.supabase.co/storage/v1/object/public/public/about-hero.jpg", "subtitle": "Discover the story behind our designs and the team that brings them to life.", "title": "About Shriram Interio"}', '{"backgroundImage": {"type": "image", "label": "Background Image"}, "subtitle": {"type": "text", "label": "Subtitle"}, "title": {"type": "text", "label": "Title"}}', 1, true),
((SELECT id from public.pages where slug = 'about'), 'story', 'Our Story Section', '{"heading": "Our Story", "image": "https://gzlakbpbhhxxpzbbifus.supabase.co/storage/v1/object/public/public/our-story.jpg", "paragraph1": "SHRIRAM INTERIO began with a simple yet powerful idea: to make exceptional interior design accessible to everyone. Founded in 2016, our journey started with a small team of passionate designers who shared a common vision of transforming living spaces into personal sanctuaries.", "paragraph2": "We believe that a well-designed home can enhance the quality of life. This belief has been the driving force behind our growth and success. Over the years, we have honed our craft, expanded our team, and built a reputation for creativity, quality, and reliability.", "paragraph3": "From humble beginnings, we have grown into a leading interior design firm in Pune, known for our innovative solutions and customer-centric approach. Our portfolio showcases a diverse range of projects, each one a testament to our commitment to excellence.", "paragraph4": "Our story is one of passion, dedication, and a relentless pursuit of perfection. We are proud of our journey and excited about the future as we continue to create beautiful and inspiring spaces for our clients.", "subheading": "Crafting beautiful spaces since 2016"}', '{"heading": {"type": "text", "label": "Heading"}, "image": {"type": "image", "label": "Image"}, "paragraph1": {"type": "textarea", "label": "Paragraph 1"}, "paragraph2": {"type": "textarea", "label": "Paragraph 2"}, "paragraph3": {"type": "textarea", "label": "Paragraph 3"}, "paragraph4": {"type": "textarea", "label": "Paragraph 4"}, "subheading": {"type": "text", "label": "Subheading"}}', 2, true);

INSERT INTO public.sections (page_id, type, title, content, content_structure, "order", visible) VALUES
((SELECT id from public.pages where slug = 'about'), 'journey', 'Our Journey Section', '{"heading": "Our Journey", "image": "https://gzlakbpbhhxxpzbbifus.supabase.co/storage/v1/object/public/public/our-journey.jpg", "paragraph1": "Our journey has been one of continuous learning and evolution. We started with a focus on residential interiors, gradually expanding our expertise to include commercial spaces. Each project has been a stepping stone, allowing us to explore new ideas, materials, and technologies.", "paragraph2": "We have always prioritized building strong relationships with our clients, suppliers, and partners. This collaborative spirit has been instrumental in our success, enabling us to deliver projects that consistently exceed expectations.", "paragraph3": "Technology has played a crucial role in our journey. We embraced 3D visualization tools early on, allowing our clients to experience their future homes before the work even begins. This commitment to innovation keeps us at the forefront of the industry.", "paragraph4": "Looking back, our journey is not just about the projects we have completed, but the lives we have touched. We are grateful for the trust our clients have placed in us and look forward to many more years of creating dream spaces.", "subheading": "From concept to creation, a journey of excellence"}', '{"heading": {"type": "text", "label": "Heading"}, "image": {"type": "image", "label": "Image"}, "paragraph1": {"type": "textarea", "label": "Paragraph 1"}, "paragraph2": {"type": "textarea", "label": "Paragraph 2"}, "paragraph3": {"type": "textarea", "label": "Paragraph 3"}, "paragraph4": {"type": "textarea", "label": "Paragraph 4"}, "subheading": {"type": "text", "label": "Subheading"}}', 3, true),
((SELECT id from public.pages where slug = 'about'), 'values', 'Our Values Section', '{"items": [{"description": "Our team of skilled designers brings creativity and expertise to every project.", "title": "Expert Design Team"}, {"description": "We offer a wide variety of styles, materials, and finishes to suit your taste.", "title": "Variety of Design Choices"}, {"description": "Get high-quality design solutions that fit your budget without compromise.", "title": "Affordable Design Fees"}, {"description": "We ensure your project is completed on schedule, every time.", "title": "On-Time Project Delivery"}], "subtitle": "The principles that guide our work and define our commitment to you.", "title": "Our Core Values"}', '{"items": {"type": "repeater", "fields": {"description": {"type": "textarea", "label": "Description"}, "title": {"type": "text", "label": "Title"}}, "label": "Value Items"}, "subtitle": {"type": "text", "label": "Subtitle"}, "title": {"type": "text", "label": "Title"}}', 4, true),
((SELECT id from public.pages where slug = 'about'), 'mission_vision', 'Mission & Vision Section', '{"missionText": "Our mission is to create exceptional living spaces that reflect the unique personality and lifestyle of our clients. We strive to deliver innovative design solutions, superior quality, and outstanding customer service.", "missionTitle": "Our Mission", "visionText": "Our vision is to be the most trusted and sought-after interior design firm in Pune, known for our creativity, integrity, and commitment to transforming houses into dream homes.", "visionTitle": "Our Vision"}', '{"missionText": {"type": "textarea", "label": "Mission Text"}, "missionTitle": {"type": "text", "label": "Mission Title"}, "visionText": {"type": "textarea", "label": "Vision Text"}, "visionTitle": {"type": "text", "label": "Vision Title"}}', 5, true),
((SELECT id from public.pages where slug = 'about'), 'team', 'Meet the Team Section', '{"members": [{"bio": "Aniket is the visionary founder of Shriram Interio, with a passion for creating timeless and elegant designs.", "image": "https://gzlakbpbhhxxpzbbifus.supabase.co/storage/v1/object/public/public/team-1.jpg", "name": "Aniket Sharma", "role": "Founder & Principal Designer"}, {"bio": "Priya leads our design team with her innovative ideas and keen eye for detail, ensuring every project is a masterpiece.", "image": "https://gzlakbpbhhxxpzbbifus.supabase.co/storage/v1/object/public/public/team-2.jpg", "name": "Priya Singh", "role": "Lead Designer"}, {"bio": "Rahul oversees all projects from concept to completion, ensuring they are delivered on time and to the highest standards.", "image": "https://gzlakbpbhhxxpzbbifus.supabase.co/storage/v1/object/public/public/team-3.jpg", "name": "Rahul Verma", "role": "Project Manager"}], "subtitle": "The creative minds behind our successful projects.", "title": "Meet Our Team"}', '{"members": {"type": "repeater", "fields": {"bio": {"type": "textarea", "label": "Bio"}, "image": {"type": "image", "label": "Image"}, "name": {"type": "text", "label": "Name"}, "role": {"type": "text", "label": "Role"}}, "label": "Team Members"}, "subtitle": {"type": "text", "label": "Subtitle"}, "title": {"type": "text", "label": "Title"}}', 6, true),
((SELECT id from public.pages where slug = 'clients'), 'featured_testimonial', 'Featured Testimonial Section', '{"image": "https://gzlakbpbhhxxpzbbifus.supabase.co/storage/v1/object/public/public/client-featured.jpg", "location": "Pune", "name": "Rohan Sharma", "project": "Full Home Interior", "quote": "The best interior design decision we ever made!", "review": "From the initial consultation to the final handover, the team at Shriram Interio was exceptional. They understood our vision perfectly and brought it to life with incredible attention to detail. Our home feels like a dream come true.", "size": "3 BHK"}', '{"image": {"type": "image", "label": "Image"}, "location": {"type": "text", "label": "Location"}, "name": {"type": "text", "label": "Name"}, "project": {"type": "text", "label": "Project"}, "quote": {"type": "textarea", "label": "Quote"}, "review": {"type": "textarea", "label": "Review"}, "size": {"type": "text", "label": "Size"}}', 1, true),
((SELECT id from public.pages where slug = 'clients'), 'video_testimonials', 'Video Testimonials Section', '{"subtitle": "Watch our clients share their experiences working with us.", "title": "Client Video Stories", "videos": [{"dataAiHint": "happy couple", "imageSrc": "https://gzlakbpbhhxxpzbbifus.supabase.co/storage/v1/object/public/public/client-video-1.jpg", "location": "Kothrud, Pune", "name": "The Gupta Family", "review": "Our kitchen is now the heart of our home, all thanks to Shriram Interio.", "videoUrl": "https://www.youtube.com/watch?v=dQw4w9WgXcQ"}, {"dataAiHint": "woman smiling", "imageSrc": "https://gzlakbpbhhxxpzbbifus.supabase.co/storage/v1/object/public/public/client-video-2.jpg", "location": "Hinjewadi, Pune", "name": "Ms. Sneha Patil", "review": "They transformed my compact apartment into a spacious and elegant home.", "videoUrl": "https://www.youtube.com/watch?v=dQw4w9WgXcQ"}, {"dataAiHint": "family in living room", "imageSrc": "https://gzlakbpbhhxxpzbbifus.supabase.co/storage/v1/object/public/public/client-video-3.jpg", "location": "Wakad, Pune", "name": "The Deshpande Family", "review": "Professional, creative, and they delivered on every promise. Highly recommended!", "videoUrl": "https://www.youtube.com/watch?v=dQw4w9WgXcQ"}]}', '{"subtitle": {"type": "text", "label": "Subtitle"}, "title": {"type": "text", "label": "Title"}, "videos": {"type": "repeater", "fields": {"dataAiHint": {"type": "text", "label": "AI Hint"}, "imageSrc": {"type": "image", "label": "Thumbnail"}, "location": {"type": "text", "label": "Location"}, "name": {"type": "text", "label": "Name"}, "review": {"type": "textarea", "label": "Review"}, "videoUrl": {"type": "text", "label": "Video URL"}}, "label": "Videos"}}', 2, true),
((SELECT id from public.pages where slug = 'clients'), 'text_testimonials', 'Text Testimonials Section', '{"subtitle": "Read what our clients have to say about their experience with Shriram Interio.", "testimonials": [{"avatar": "AM", "image": "https://gzlakbpbhhxxpzbbifus.supabase.co/storage/v1/object/public/public/client-avatar-1.jpg", "name": "Anjali Mehta", "review": "The modular kitchen they designed is both beautiful and highly functional. The entire process was smooth and hassle-free."}, {"avatar": "SK", "image": "https://gzlakbpbhhxxpzbbifus.supabase.co/storage/v1/object/public/public/client-avatar-2.jpg", "name": "Sameer Kumar", "review": "Excellent work on my new apartment''s interiors. The team was very professional and accommodating to my requests."}, {"avatar": "NP", "image": "https://gzlakbpbhhxxpzbbifus.supabase.co/storage/v1/object/public/public/client-avatar-3.jpg", "name": "Neha Patel", "review": "I love my new wardrobe! It''s spacious, stylish, and exactly what I wanted. Thank you, Shriram Interio!"}], "title": "Words of Appreciation"}', '{"subtitle": {"type": "text", "label": "Subtitle"}, "testimonials": {"type": "repeater", "fields": {"avatar": {"type": "text", "label": "Avatar Fallback"}, "image": {"type": "image", "label": "Image"}, "name": {"type": "text", "label": "Name"}, "review": {"type": "textarea", "label": "Review"}}, "label": "Testimonials"}, "title": {"type": "text", "label": "Title"}}', 3, true),
((SELECT id from public.pages where slug = 'how-it-works'), 'hero', 'Hero Section', '{"backgroundImage": "https://gzlakbpbhhxxpzbbifus.supabase.co/storage/v1/object/public/public/how-it-works-hero.jpg", "subtitle": "Our streamlined process ensures a smooth and transparent journey from concept to completion.", "title": "How It Works"}', '{"backgroundImage": {"type": "image", "label": "Background Image"}, "subtitle": {"type": "text", "label": "Subtitle"}, "title": {"type": "text", "label": "Title"}}', 1, true),
((SELECT id from public.pages where slug = 'how-it-works'), 'process', 'Our Process Section', '{"steps": [{"description": "Share your vision, requirements, and budget with our design experts in a free consultation.", "icon": "Handshake", "title": "Initial Consultation"}, {"description": "Our team creates customized 2D and 3D designs, bringing your ideas to life.", "icon": "PencilRuler", "title": "Design & Visualization"}, {"description": "Once designs are finalized, we begin manufacturing and execution with precision and care.", "icon": "Truck", "title": "Execution & Delivery"}, {"description": "We conduct a final quality check and hand over your beautifully designed space.", "icon": "ShieldCheck", "title": "Quality Check & Handover"}, {"description": "Your satisfaction is our priority. We offer dedicated support and warranty for all our work.", "icon": "Star", "title": "Warranty & Support"}], "subtitle": "A step-by-step guide to your dream home interior journey.", "title": "Our 5-Step Process"}', '{"steps": {"type": "repeater", "fields": {"description": {"type": "textarea", "label": "Description"}, "icon": {"type": "text", "label": "Icon Name"}, "title": {"type": "text", "label": "Title"}}, "label": "Process Steps"}, "subtitle": {"type": "text", "label": "Subtitle"}, "title": {"type": "text", "label": "Title"}}', 2, true),
((SELECT id from public.pages where slug = 'how-it-works'), 'why_us', 'Why Our Process Works Section', '{"benefits": [{"description": "We keep you involved at every stage, ensuring the final result is exactly what you envisioned.", "icon": "ThumbsUp", "title": "Client-Centric Approach"}, {"description": "Our clear and detailed pricing means no hidden costs or surprises along the way.", "icon": "Wallet", "title": "Transparent Pricing"}, {"description": "We use only the best materials and craftsmen to ensure a high-quality, lasting finish.", "icon": "Smile", "title": "Quality Assurance"}], "subtitle": "Our process is designed for your peace of mind and complete satisfaction.", "title": "Why Our Process Works"}', '{"benefits": {"type": "repeater", "fields": {"description": {"type": "textarea", "label": "Description"}, "icon": {"type": "text", "label": "Icon Name"}, "title": {"type": "text", "label": "Title"}}, "label": "Benefits"}, "subtitle": {"type": "text", "label": "Subtitle"}, "title": {"type": "text", "label": "Title"}}', 3, true),
((SELECT id from public.pages where slug = 'how-it-works'), 'get_started', 'Get Started Section', '{"buttonText": "Book a Free Consultation", "subtitle": "Let''s discuss your ideas and how we can bring them to life. Schedule a free, no-obligation consultation with our design experts today.", "title": "Ready to Start Your Project?"}', '{"buttonText": {"type": "text", "label": "Button Text"}, "subtitle": {"type": "textarea", "label": "Subtitle"}, "title": {"type": "text", "label": "Title"}}', 4, true),
((SELECT id from public.pages where slug = 'services'), 'header', 'Services Header Section', '{"subtitle": "We offer a comprehensive range of interior design services to meet your needs.", "title": "Our Services"}', '{"subtitle": {"type": "text", "label": "Subtitle"}, "title": {"type": "text", "label": "Title"}}', 1, true),
((SELECT id from public.pages where slug = 'services'), 'our_services', 'Our Services Section', '{"services": [{"description": "Customized modular kitchens that are both stylish and functional.", "title": "Modular Kitchen Design"}, {"description": "Smart and elegant storage solutions to maximize your space.", "title": "Wardrobe & Storage Solutions"}, {"description": "Create a serene and personal retreat with our bedroom designs.", "title": "Bedroom Interiors"}, {"description": "Design inviting and comfortable living areas for your family.", "title": "Living Area Design"}, {"description": "Enhance your home''s curb appeal with our exterior design services.", "title": "Exterior Design Services"}, {"description": "Comprehensive interior solutions for your entire home, from start to finish.", "title": "Full Home Interiors"}]}', '{"services": {"type": "repeater", "fields": {"description": {"type": "textarea", "label": "Description"}, "title": {"type": "text", "label": "Title"}}, "label": "Services List"}}', 2, true),
((SELECT id from public.pages where slug = 'services'), 'detailed_services', 'Detailed Services Section', '{"services": [{"dataAiHint": "modern modular kitchen", "href": "/products/modular-kitchen", "imageSrc": "https://gzlakbpbhhxxpzbbifus.supabase.co/storage/v1/object/public/public/service-kitchen.jpg", "title": "Modular Kitchen Design"}, {"dataAiHint": "stylish wardrobe design", "href": "/products/wardrobe", "imageSrc": "https://gzlakbpbhhxxpzbbifus.supabase.co/storage/v1/object/public/public/service-wardrobe.jpg", "title": "Wardrobe Solutions"}, {"dataAiHint": "cozy bedroom interior", "href": "/products/bedroom-set", "imageSrc": "https://gzlakbpbhhxxpzbbifus.supabase.co/storage/v1/object/public/public/service-bedroom.jpg", "title": "Bedroom Interiors"}]}', '{"services": {"type": "repeater", "fields": {"dataAiHint": {"type": "text", "label": "AI Hint"}, "href": {"type": "text", "label": "Link URL"}, "imageSrc": {"type": "image", "label": "Image"}, "title": {"type": "text", "label": "Title"}}, "label": "Service Details"}}', 3, true),
((SELECT id from public.pages where slug = 'portfolio'), 'projects_gallery', 'Projects Gallery Section', '{"projects": [{"category": "Kitchen", "dataAiHint": "modern kitchen interior", "id": 1, "imageSrc": "https://gzlakbpbhhxxpzbbifus.supabase.co/storage/v1/object/public/public/portfolio-kitchen-1.jpg", "title": "Contemporary Kitchen"}, {"category": "Living Area", "dataAiHint": "elegant living room", "id": 2, "imageSrc": "https://gzlakbpbhhxxpzbbifus.supabase.co/storage/v1/object/public/public/portfolio-living-1.jpg", "title": "Spacious Living Room"}, {"category": "Bedroom", "dataAiHint": "luxury bedroom design", "id": 3, "imageSrc": "https://gzlakbpbhhxxpzbbifus.supabase.co/storage/v1/object/public/public/portfolio-bedroom-1.jpg", "title": "Master Bedroom"}, {"category": "Kitchen", "dataAiHint": "l-shaped kitchen", "id": 4, "imageSrc": "https://gzlakbpbhhxxpzbbifus.supabase.co/storage/v1/object/public/public/portfolio-kitchen-2.jpg", "title": "L-Shaped Kitchen"}, {"category": "Living Area", "dataAiHint": "minimalist living space", "id": 5, "imageSrc": "https://gzlakbpbhhxxpzbbifus.supabase.co/storage/v1/object/public/public/portfolio-living-2.jpg", "title": "Minimalist Living"}, {"category": "Bedroom", "dataAiHint": "cozy guest bedroom", "id": 6, "imageSrc": "https://gzlakbpbhhxxpzbbifus.supabase.co/storage/v1/object/public/public/portfolio-bedroom-2.jpg", "title": "Guest Bedroom"}]}', '{"projects": {"type": "repeater", "fields": {"category": {"type": "text", "label": "Category"}, "dataAiHint": {"type": "text", "label": "AI Hint"}, "id": {"type": "number", "label": "ID"}, "imageSrc": {"type": "image", "label": "Image"}, "title": {"type": "text", "label": "Title"}}, "label": "Projects"}}', 1, true),
((SELECT id from public.pages where slug = 'portfolio'), 'partners', 'Partners Section', '{"items": [{"logoSrc": "https://gzlakbpbhhxxpzbbifus.supabase.co/storage/v1/object/public/public/logo-1.png", "name": "Partner One"}, {"logoSrc": "https://gzlakbpbhhxxpzbbifus.supabase.co/storage/v1/object/public/public/logo-2.png", "name": "Partner Two"}, {"logoSrc": "https://gzlakbpbhhxxpzbbifus.supabase.co/storage/v1/object/public/public/logo-3.png", "name": "Partner Three"}, {"logoSrc": "https://gzlakbpbhhxxpzbbifus.supabase.co/storage/v1/object/public/public/logo-4.png", "name": "Partner Four"}, {"logoSrc": "https://gzlakbpbhhxxpzbbifus.supabase.co/storage/v1/object/public/public/logo-5.png", "name": "Partner Five"}], "subtitle": "OUR TRUSTED PARTNERS", "title": "We Collaborate With the Best"}', '{"items": {"type": "repeater", "fields": {"logoSrc": {"type": "image", "label": "Logo"}, "name": {"type": "text", "label": "Name"}}, "label": "Partners"}, "subtitle": {"type": "text", "label": "Subtitle"}, "title": {"type": "text", "label": "Title"}}', 2, true),
((SELECT id from public.pages where slug = 'customer-stories'), 'header', 'Header Section', '{"subtitle": "Discover how we have transformed homes and lives with our exceptional interior design solutions. Read inspiring stories from our valued clients.", "title": "Our Customer Stories"}', '{"subtitle": {"type": "textarea", "label": "Subtitle"}, "title": {"type": "text", "label": "Title"}}', 1, true),
((SELECT id from public.pages where slug = 'customer-stories'), 'featured_story', 'Featured Story Section', '{"buttonText": "Read The Full Story"}', '{"buttonText": {"type": "text", "label": "Button Text"}}', 2, true),
((SELECT id from public.pages where slug = 'customer-stories'), 'more_stories', 'More Stories Section', '{"title": "More Inspiring Stories"}', '{"title": {"type": "text", "label": "Title"}}', 3, true),
((SELECT id from public.pages where slug = 'customer-stories'), 'work_gallery', 'Work Gallery Section', '{"items": [{"hint": "modern kitchen", "image": "https://gzlakbpbhhxxpzbbifus.supabase.co/storage/v1/object/public/public/gallery-1.jpg", "title": "Modern Kitchen"}, {"hint": "elegant living room", "image": "https://gzlakbpbhhxxpzbbifus.supabase.co/storage/v1/object/public/public/gallery-2.jpg", "title": "Living Room"}, {"hint": "cozy bedroom", "image": "https://gzlakbpbhhxxpzbbifus.supabase.co/storage/v1/object/public/public/gallery-3.jpg", "title": "Bedroom"}], "subtitle": "Explore some of our finest work and get inspired for your own home.", "title": "Our Work Gallery"}', '{"items": {"type": "repeater", "fields": {"hint": {"type": "text", "label": "AI Hint"}, "image": {"type": "image", "label": "Image"}, "title": {"type": "text", "label": "Title"}}, "label": "Gallery Items"}, "subtitle": {"type": "text", "label": "Subtitle"}, "title": {"type": "text", "label": "Title"}}', 4, true),
((SELECT id from public.pages where slug = 'customer-stories'), 'partners', 'Partners Section', '{"items": [{"logoSrc": "https://gzlakbpbhhxxpzbbifus.supabase.co/storage/v1/object/public/public/logo-1.png", "name": "Partner One"}, {"logoSrc": "https://gzlakbpbhhxxpzbbifus.supabase.co/storage/v1/object/public/public/logo-2.png", "name": "Partner Two"}, {"logoSrc": "https://gzlakbpbhhxxpzbbifus.supabase.co/storage/v1/object/public/public/logo-3.png", "name": "Partner Three"}, {"logoSrc": "https://gzlakbpbhhxxpzbbifus.supabase.co/storage/v1/object/public/public/logo-4.png", "name": "Partner Four"}, {"logoSrc": "https://gzlakbpbhhxxpzbbifus.supabase.co/storage/v1/object/public/public/logo-5.png", "name": "Partner Five"}], "subtitle": "OUR TRUSTED PARTNERS", "title": "We Collaborate With the Best"}', '{"items": {"type": "repeater", "fields": {"logoSrc": {"type": "image", "label": "Logo"}, "name": {"type": "text", "label": "Name"}}, "label": "Partners"}, "subtitle": {"type": "text", "label": "Subtitle"}, "title": {"type": "text", "label": "Title"}}', 5, true),
((SELECT id from public.pages where slug = 'customer-stories'), 'faq', 'FAQ Section', '{"items": [{"answer": "The timeline for a project can vary depending on the scope and complexity. A typical modular kitchen can take 4-6 weeks, while a full home interior project may take 8-12 weeks from design approval to handover.", "question": "How long does a typical interior design project take?"}, {"answer": "Yes, we provide a warranty on all our products and services. The warranty period depends on the product category and will be detailed in your project agreement.", "question": "Do you provide a warranty for your work?"}, {"answer": "Absolutely! We encourage you to be as involved as you''d like. Our designers will collaborate with you to ensure your ideas and preferences are incorporated into the final design.", "question": "Can I provide my own design ideas?"}], "subtitle": "Find answers to common questions about our services and process.", "title": "Frequently Asked Questions"}', '{"items": {"type": "repeater", "fields": {"answer": {"type": "textarea", "label": "Answer"}, "question": {"type": "text", "label": "Question"}}, "label": "FAQ Items"}, "subtitle": {"type": "text", "label": "Subtitle"}, "title": {"type": "text", "label": "Title"}}', 6, true);

INSERT INTO "public"."products" ("name", "slug", "short_description", "long_description", "main_image", "features", "gallery", "amazon_link") VALUES
('Modular Kitchen', 'modular-kitchen', 'Stylish and functional modular kitchens.', 'Our modular kitchens are designed to offer a perfect blend of style, functionality, and durability. We use high-quality materials and innovative designs to create a kitchen that is not just a cooking space, but the heart of your home. Choose from a wide range of finishes, layouts, and accessories to create a kitchen that is uniquely yours.', 'https://gzlakbpbhhxxpzbbifus.supabase.co/storage/v1/object/public/public/product-kitchen.jpg', '["High-quality plywood", "German hardware", "Customizable layouts", "Variety of finishes"]', '["https://gzlakbpbhhxxpzbbifus.supabase.co/storage/v1/object/public/public/product-kitchen-gallery-1.jpg", "https://gzlakbpbhhxxpzbbifus.supabase.co/storage/v1/object/public/public/product-kitchen-gallery-2.jpg"]', 'https://www.amazon.in/'),
('Wardrobe', 'wardrobe', 'Customized wardrobes for modern living.', 'Our wardrobes are designed to maximize storage space while enhancing the aesthetics of your bedroom. We offer a variety of styles, from sleek and modern to classic and elegant. Choose from sliding doors, hinged doors, or walk-in closets, all customized to fit your space and storage needs perfectly.', 'https://gzlakbpbhhxxpzbbifus.supabase.co/storage/v1/object/public/public/product-wardrobe.jpg', '["Space-saving designs", "Premium materials", "Customizable interiors", "Smooth-gliding drawers"]', '["https://gzlakbpbhhxxpzbbifus.supabase.co/storage/v1/object/public/public/product-wardrobe-gallery-1.jpg", "https://gzlakbpbhhxxpzbbifus.supabase.co/storage/v1/object/public/public/product-wardrobe-gallery-2.jpg"]', 'https://www.amazon.in/'),
('Bedroom Set', 'bedroom-set', 'Complete bedroom sets for a cozy retreat.', 'Create your personal sanctuary with our beautifully crafted bedroom sets. Each set includes a comfortable bed, stylish side tables, and a functional dresser. We use high-quality wood and premium finishes to ensure durability and a luxurious feel. Transform your bedroom into a peaceful and elegant retreat.', 'https://gzlakbpbhhxxpzbbifus.supabase.co/storage/v1/object/public/public/product-bedroom.jpg', '["Elegant design", "Durable construction", "Ample storage", "Comfort-focused"]', '["https://gzlakbpbhhxxpzbbifus.supabase.co/storage/v1/object/public/public/product-bedroom-gallery-1.jpg", "https://gzlakbpbhhxxpzbbifus.supabase.co/storage/v1/object/public/public/product-bedroom-gallery-2.jpg"]', 'https://www.amazon.in/');

INSERT INTO "public"."stories" ("slug", "title", "image", "dataAiHint", "category", "excerpt", "author", "authorAvatar", "date", "clientImage", "location", "project", "size", "quote", "content", "gallery") VALUES
('modern-kitchen-makeover', 'A Modern Kitchen Makeover in Pune', 'https://gzlakbpbhhxxpzbbifus.supabase.co/storage/v1/object/public/public/story-1-main.jpg', 'modern kitchen', 'Kitchen Design', 'See how we transformed a compact kitchen into a spacious and functional masterpiece for the Sharma family.', 'Priya Singh', 'https://gzlakbpbhhxxpzbbifus.supabase.co/storage/v1/object/public/public/team-2.jpg', '2023-10-15', 'https://gzlakbpbhhxxpzbbifus.supabase.co/storage/v1/object/public/public/client-featured.jpg', 'Koregaon Park, Pune', 'Modular Kitchen', '2BHK Apartment', 'Our kitchen is now the heart of our home!', '<p>The Sharma family wanted a kitchen that was both modern and highly functional. Their existing space was cramped and outdated. Our team redesigned the layout to create an efficient workflow, incorporating smart storage solutions and a sleek, minimalist aesthetic. The result is a bright and airy kitchen that the family loves to spend time in.</p>', '[{"src": "https://gzlakbpbhhxxpzbbifus.supabase.co/storage/v1/object/public/public/story-1-gallery-1.jpg", "alt": "Kitchen before renovation", "dataAiHint": "old kitchen"}, {"src": "https://gzlakbpbhhxxpzbbifus.supabase.co/storage/v1/object/public/public/story-1-gallery-2.jpg", "alt": "Kitchen after renovation", "dataAiHint": "new kitchen"}]'),
('living-room-transformation', 'Elegant Living Room Transformation', 'https://gzlakbpbhhxxpzbbifus.supabase.co/storage/v1/object/public/public/story-2-main.jpg', 'elegant living room', 'Living Area', 'A complete overhaul of a living room to create a luxurious and inviting space for entertaining guests.', 'Aniket Sharma', 'https://gzlakbpbhhxxpzbbifus.supabase.co/storage/v1/object/public/public/team-1.jpg', '2023-11-20', 'https://gzlakbpbhhxxpzbbifus.supabase.co/storage/v1/object/public/public/client-avatar-2.jpg', 'Baner, Pune', 'Full Living Room Interior', '4BHK Villa', 'It feels like we are living in a five-star hotel!', '<p>The goal for this project was to create a living room that exuded luxury and comfort. We used a palette of warm neutrals, plush fabrics, and statement lighting to create a sophisticated ambiance. A custom entertainment unit and clever furniture placement maximized the space, making it perfect for both cozy family nights and large gatherings.</p>', '[{"src": "https://gzlakbpbhhxxpzbbifus.supabase.co/storage/v1/object/public/public/story-2-gallery-1.jpg", "alt": "Living room before", "dataAiHint": "old living room"}, {"src": "https://gzlakbpbhhxxpzbbifus.supabase.co/storage/v1/object/public/public/story-2-gallery-2.jpg", "alt": "Living room after", "dataAiHint": "new living room"}]');

-- Create policies for Row Level Security
CREATE POLICY "Enable read access for all users" ON "public"."pages"
AS PERMISSIVE FOR SELECT
TO public
USING (true);

CREATE POLICY "Enable read access for all users" ON "public"."sections"
AS PERMISSIVE FOR SELECT
TO public
USING (true);

CREATE POLICY "Enable read access for all users" ON "public"."stories"
AS PERMISSIVE FOR SELECT
TO public
USING (true);

CREATE POLICY "Enable read access for all users" ON "public"."products"
AS PERMISSIVE FOR SELECT
TO public
USING (true);

-- Create policies for Supabase Storage
CREATE POLICY "Enable read access for all users" ON "storage"."objects"
AS PERMISSIVE FOR SELECT
TO public
USING (bucket_id = 'public');

CREATE POLICY "Enable insert for authenticated users only" ON "storage"."objects"
AS PERMISSIVE FOR INSERT
TO authenticated
WITH CHECK (bucket_id = 'public');
