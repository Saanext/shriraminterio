
-- Create the 'pages' table
CREATE TABLE public.pages (
    id bigint NOT NULL GENERATED BY DEFAULT AS IDENTITY,
    created_at timestamp with time zone NOT NULL DEFAULT now(),
    slug text NOT NULL,
    title text NOT NULL,
    meta_title text NULL,
    meta_description text NULL,
    CONSTRAINT pages_pkey PRIMARY KEY (id),
    CONSTRAINT pages_slug_key UNIQUE (slug)
);

-- Create the 'sections' table
CREATE TABLE public.sections (
    id bigint NOT NULL GENERATED BY DEFAULT AS IDENTITY,
    created_at timestamp with time zone NOT NULL DEFAULT now(),
    page_id bigint NOT NULL,
    type text NOT NULL,
    title text NOT NULL,
    content_structure jsonb NULL,
    content jsonb NULL,
    visible boolean NOT NULL DEFAULT true,
    "order" integer NOT NULL DEFAULT 0,
    CONSTRAINT sections_pkey PRIMARY KEY (id),
    CONSTRAINT sections_page_id_fkey FOREIGN KEY (page_id) REFERENCES pages(id) ON DELETE CASCADE
);


-- Insert data into 'pages' table
INSERT INTO public.pages (slug, title, meta_title, meta_description) VALUES
('home', 'Home', 'Shriram Interio | Pune''s Top Interior Designers', 'Discover stunning modular kitchens, wardrobes, and full home interiors in Pune. Shriram Interio offers expert design, quality craftsmanship, and timely delivery.'),
('about', 'About Us', 'About Shriram Interio | Our Story & Values', 'Learn about Shriram Interio, our mission to create beautiful and functional living spaces, and meet the team dedicated to bringing your vision to life.'),
('clients', 'Clients', 'Our Clients | Shriram Interio', 'See what our clients are saying about us. Read testimonials and watch video reviews from happy homeowners across Pune.'),
('customer-stories', 'Customer Stories', 'Customer Stories | Shriram Interio', 'Explore detailed stories of our projects and see how we transformed our clients'' houses into dream homes.'),
('products', 'Products', 'Our Products | Shriram Interio', 'Browse our range of high-quality products, including modular kitchens, wardrobes, bedroom sets, and more.'),
('how-it-works', 'How It Works', 'How It Works | Shriram Interio', 'Learn about our seamless 6-step design process, from initial consultation to final handover, ensuring a hassle-free experience.'),
('services', 'Services', 'Our Services | Shriram Interio', 'Explore our comprehensive interior design services, from modular kitchens and wardrobes to full home and exterior design.'),
('portfolio', 'Portfolio', 'Portfolio | Shriram Interio', 'View our portfolio of completed projects and get inspired by the spaces we have transformed.'),
('contact', 'Contact', 'Contact Us | Shriram Interio', 'Get in touch with us for a free consultation. Find our address, phone number, and email information.'),
('appointment', 'Appointment', 'Book an Appointment | Shriram Interio', 'Schedule a free consultation with our design experts to start your interior design journey.');

-- Associate sections with the correct page_id after pages are inserted
-- Note: This assumes the page IDs are generated in the order of insertion (1 for 'home', 2 for 'about', etc.)

-- SECTIONS FOR HOME PAGE (page_id = 1)
INSERT INTO public.sections (page_id, type, title, "order", visible, content_structure, content) VALUES
((SELECT id from pages WHERE slug = 'home'), 'hero', 'Hero', 0, true,
  '{
    "title": {"type": "text", "label": "Title"},
    "subtitle": {"type": "textarea", "label": "Subtitle"},
    "buttonText": {"type": "text", "label": "Button Text"},
    "videoUrl": {"type": "text", "label": "Background Video URL"},
    "slides": {"type": "repeater", "label": "Image Slides"}
  }',
  '{
    "title": "Crafting Dream Spaces, One Home at a Time",
    "subtitle": "Pune''s leading interior design company for modular kitchens, wardrobes, and full home interiors. Experience quality craftsmanship and timely delivery with our expert team.",
    "buttonText": "Explore Our Designs",
    "videoUrl": "https://videos.pexels.com/video-files/8329388/8329388-hd_1920_1080_30fps.mp4",
    "slides": [
      {"image": "https://images.unsplash.com/photo-1618220179428-22790b461013?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3NDE5ODJ8MHwxfHNlYXJjaHwxfHxpbnRlcmlvciUyMGRlc2lnbnxlbnwwfHx8fDE3NTU2MjM4OTR8MA&ixlib=rb-4.1.0&q=80&w=1080"},
      {"image": "https://images.unsplash.com/photo-1600585154340-be6161a56a0c?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3NDE5ODJ8MHwxfHNlYXJjaHwyfHxpbnRlcmlvciUyMGRlc2lnbnxlbnwwfHx8fDE3NTU2MjM4OTR8MA&ixlib=rb-4.1.0&q=80&w=1080"}
    ]
  }'),
((SELECT id from pages WHERE slug = 'home'), 'welcome', 'Welcome', 1, true,
  '{
    "paragraph1": {"type": "textarea", "label": "Paragraph 1"},
    "paragraph2": {"type": "textarea", "label": "Paragraph 2"},
    "image": {"type": "image", "label": "Image"}
  }',
  '{
    "paragraph1": "Founded on the belief that exceptional design transforms lives, we are a team of passionate creatives dedicated to curating spaces that resonate with your soul. Our journey began with a vision: to redefine interior design by infusing creativity, functionality, and a personalized touch into every project.",
    "paragraph2": "We specialize in modular kitchens, wardrobes, and full home interiors, ensuring every corner of your home is both beautiful and functional. Over the years, we''ve evolved, but our commitment to excellence remains unwavering.",
    "image": "https://images.unsplash.com/photo-1558997519-83ea9252edf8?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3NDE5ODJ8MHwxfHNlYXJjaHw0fHxpbnRlcmlvciUyMGRlc2lnbiUyMHN0dWRpb3xlbnwwfHx8fDE3NTYxOTI5MjJ8MA&ixlib=rb-4.1.0&q=80&w=1080"
  }'),
((SELECT id from pages WHERE slug = 'home'), 'about_company', 'About Company', 2, true,
  '{
    "title": {"type": "text", "label": "Title"},
    "text": {"type": "textarea", "label": "Text"}
  }',
  '{
    "title": "Who We Are",
    "text": "A place where design meets inspiration and innovation. Since our establishment in 2016, our journey began with a shared vision: to redefine interior design by infusing creativity, functionality, and a personalized touch into every project. Over the years, we''ve evolved, but our commitment to excellence remains unwavering."
  }'),
((SELECT id from pages WHERE slug = 'home'), 'why_us', 'Why Us', 3, true,
  '{
    "title": {"type": "text", "label": "Title"},
    "subtitle": {"type": "textarea", "label": "Subtitle"},
    "items": {"type": "repeater", "label": "Items"}
  }',
  '{
    "title": "Why Shriram Interio?",
    "subtitle": "Discover the difference that quality, expertise, and passion can make.",
    "items": [
      {"title": "Expert Design Team", "description": "Our team of experienced designers works closely with you to bring your vision to life."},
      {"title": "Variety of Design Choices", "description": "We offer a wide range of designs and materials to suit every taste and budget."},
      {"title": "Affordable Design Fees", "description": "Get premium design solutions without breaking the bank. We believe in transparent pricing."},
      {"title": "On-Time Project Delivery", "description": "We respect your time and are committed to completing projects on schedule."}
    ]
  }'),
((SELECT id from pages WHERE slug = 'home'), 'work_gallery', 'Work Gallery', 4, true,
  '{
    "title": {"type": "text", "label": "Title"},
    "subtitle": {"type": "textarea", "label": "Subtitle"},
    "items": {"type": "repeater", "label": "Gallery Items"}
  }',
  '{
    "title": "Our Work Gallery",
    "subtitle": "A glimpse into the spaces we''ve transformed.",
    "items": [
      {"title": "Modern Living Room", "image": "/b2.jpg", "hint": "modern living room"},
      {"title": "Elegant Kitchen Design", "image": "/b1.jpg", "hint": "elegant kitchen"},
      {"title": "Cozy Bedroom Interior", "image": "/kitchen.jpg", "hint": "cozy bedroom"},
      {"title": "Luxury Wardrobe", "image": "/SlidingWardrobe.jpg", "hint": "luxury wardrobe"},
      {"title": "Contemporary Space", "image": "/kitchengallery.jpg", "hint": "contemporary space"}
    ]
  }'),
((SELECT id from pages WHERE slug = 'home'), 'comfort_design', 'Design at Your Comfort', 5, true,
  '{
    "title": {"type": "text", "label": "Title"},
    "subtitle": {"type": "textarea", "label": "Subtitle"},
    "items": {"type": "repeater", "label": "Items"}
  }',
  '{
    "title": "Design at Your Comfort",
    "subtitle": "Our process is designed to be as convenient and transparent as possible, bringing your dream home to life without the hassle.",
    "items": [
      {"title": "Live 3D Designs", "description": "Experience your new home with our live 3D designing sessions. Visualize your space and make changes in real-time."},
      {"title": "Contactless Experience", "description": "From design to delivery, we offer a safe and seamless contactless experience for your convenience."},
      {"title": "Instant Pricing", "description": "Get transparent and instant pricing for your project with no hidden costs."},
      {"title": "Expertise & Passion", "description": "Our team of passionate designers brings a wealth of expertise to every project, ensuring exceptional results."}
    ]
  }'),
((SELECT id from pages WHERE slug = 'home'), 'what_we_do', 'What We Do', 6, true,
  '{
    "title": {"type": "text", "label": "Title"},
    "subtitle": {"type": "textarea", "label": "Subtitle"},
    "trendingItems": {"type": "repeater", "label": "Trending Items"},
    "bestSellingKitchens": {"type": "repeater", "label": "Best Selling Kitchens"},
    "bestSellingWardrobes": {"type": "repeater", "label": "Best Selling Wardrobes"}
  }',
  '{
    "title": "What We Do",
    "subtitle": "From trendy designs to best-selling classics, explore our curated collections.",
    "trendingItems": [
      {"name": "Parallel Kitchen", "image": "/trending1.jpg", "hint": "parallel kitchen"},
      {"name": "U-Shaped Modular Kitchen", "image": "/trending2.jpg", "hint": "u-shaped kitchen"},
      {"name": "L-Shaped Modular Kitchen", "image": "/trending3.jpg", "hint": "l-shaped kitchen"},
      {"name": "Sliding Wardrobe", "image": "/trending4.jpg", "hint": "sliding wardrobe"},
      {"name": "Hinged Wardrobe", "image": "/trending5.jpg", "hint": "hinged wardrobe"}
    ],
    "bestSellingKitchens": [
      {"name": "Classic L-Shape", "image": "/kitchen1.jpg", "hint": "classic l-shaped kitchen"},
      {"name": "Modern U-Shape", "image": "/kitchen2.jpg", "hint": "modern u-shaped kitchen"},
      {"name": "Island Kitchen", "image": "/kitchn1.jpg", "hint": "island kitchen"},
      {"name": "Minimalist Galley", "image": "/kitchengallery.jpg", "hint": "minimalist galley kitchen"}
    ],
    "bestSellingWardrobes": [
      {"name": "Sliding Door", "image": "/SlidingWardrobe.jpg", "hint": "sliding wardrobe"},
      {"name": "Walk-in Wonder", "image": "/r1.jpg", "hint": "walk-in wardrobe"},
      {"name": "Hinged Classic", "image": "/b1.jpg", "hint": "hinged wardrobe"},
      {"name": "Mirrored Finish", "image": "/b2.jpg", "hint": "mirrored wardrobe"}
    ]
  }'),
((SELECT id from pages WHERE slug = 'home'), 'testimonials', 'Testimonials', 7, true,
  '{
    "title": {"type": "text", "label": "Title"},
    "subtitle": {"type": "textarea", "label": "Subtitle"},
    "buttonText": {"type": "text", "label": "Button Text"},
    "items": {"type": "repeater", "label": "Testimonials"}
  }',
  '{
    "title": "What Our Clients Say",
    "subtitle": "Hear from our happy clients across Pune.",
    "buttonText": "View All Testimonials",
    "items": [
      {"name": "Anjali P.", "review": "Shriram Interio transformed our home! The kitchen is a dream to work in, and the team was professional from start to finish.", "image": "/avatar-1.png"},
      {"name": "Rohan & Priya S.", "review": "The design process was so transparent and collaborative. They listened to our needs and delivered beyond our expectations.", "image": "/avatar-2.png"},
      {"name": "Meera K.", "review": "Excellent service and stunning wardrobe design. The quality of materials is top-notch, and the installation was seamless.", "image": "/avatar-3.png"},
      {"name": "Sameer Joshi", "review": "We opted for the full home interior service and it was the best decision. The final result is a cohesive, beautiful home.", "image": "/avatar-4.png"}
    ]
  }'),
((SELECT id from pages WHERE slug = 'home'), 'faq', 'FAQ', 8, true,
  '{
    "title": {"type": "text", "label": "Title"},
    "subtitle": {"type": "textarea", "label": "Subtitle"},
    "items": {"type": "repeater", "label": "FAQ Items"}
  }',
  '{
    "title": "Frequently Asked Questions",
    "subtitle": "Have questions? We have answers.",
    "items": [
        {"question": "What services do you offer?", "answer": "We offer a comprehensive range of interior design services, including modular kitchens, custom wardrobes, full home interiors, living area design, bedroom design, and more. We handle everything from design conception to final installation."},
        {"question": "What is your design process?", "answer": "Our process begins with a free consultation to understand your needs. We then move to 3D design and visualization, material selection, manufacturing, and finally, professional installation and handover. We keep you involved at every step."},
        {"question": "How much does interior design cost?", "answer": "The cost varies greatly depending on the scope of the project, materials chosen, and the size of the space. We provide transparent pricing and detailed quotes after the initial consultation. We offer solutions for various budget ranges."},
        {"question": "How long does a project typically take?", "answer": "A typical project timeline can range from a few weeks for a single room to a few months for a full home interior. After understanding your requirements, we provide a detailed project timeline."}
    ]
  }'),
((SELECT id from pages WHERE slug = 'home'), 'partners', 'Partners', 9, true,
  '{
    "title": {"type": "text", "label": "Title"},
    "subtitle": {"type": "textarea", "label": "Subtitle"},
    "items": {"type": "repeater", "label": "Partners"}
  }',
  '{
    "title": "Our Partners",
    "subtitle": "MEET OUR PARTNERS",
    "items": [
      {"name": "Ebco", "logoSrc": "/ebco.jpg"},
      {"name": "Hettich", "logoSrc": "/hettich.png"},
      {"name": "Royale Touche", "logoSrc": "/Royal-Touch.jpg"},
      {"name": "Hafele", "logoSrc": "/hafele.png"},
      {"name": "Godrej", "logoSrc": "/godrej.png"}
    ]
  }');

-- SECTIONS FOR ABOUT PAGE (page_id = 2)
INSERT INTO public.sections (page_id, type, title, "order", visible, content_structure, content) VALUES
((SELECT id from pages WHERE slug = 'about'), 'hero', 'Hero', 0, true,
  '{
    "title": {"type": "text", "label": "Title"},
    "subtitle": {"type": "textarea", "label": "Subtitle"},
    "backgroundImage": {"type": "image", "label": "Background Image"}
  }',
  '{
    "title": "About Shriram Interio",
    "subtitle": "Designing Spaces, Building Dreams",
    "backgroundImage": "https://images.unsplash.com/photo-1531973576160-7125cd663d86?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3NDE5ODJ8MHwxfHNlYXJjaHw1fHxhYm91dCUyMHVzJTIwYmFja2dyb3VuZHxlbnwwfHx8fDE3NTYxOTI3OTJ8MA&ixlib=rb-4.1.0&q=80&w=1080"
  }'),
((SELECT id from pages WHERE slug = 'about'), 'story', 'Our Story', 1, true,
  '{
    "heading": {"type": "text", "label": "Heading"},
    "subheading": {"type": "text", "label": "Subheading"},
    "paragraph1": {"type": "textarea", "label": "Paragraph 1"},
    "paragraph2": {"type": "textarea", "label": "Paragraph 2"},
    "paragraph3": {"type": "textarea", "label": "Paragraph 3"},
    "paragraph4": {"type": "textarea", "label": "Paragraph 4"},
    "image": {"type": "image", "label": "Image"}
  }',
  '{
    "heading": "Our Story",
    "subheading": "THE JOURNEY BEHIND THE DESIGN",
    "paragraph1": "SHRIRAM INTERIO is a place where design meets inspiration and innovation. Founded on the belief that exceptional design transforms lives, we are a team of passionate creatives dedicated to curating spaces that resonate with your soul.",
    "paragraph2": "Since our establishment in 2016, our journey began with a shared vision: to redefine interior design by infusing creativity, functionality, and a personalized touch into every project. Over the years, we''ve evolved, but our commitment to excellence remains unwavering.",
    "paragraph3": "Our story is woven with threads of dedication, collaboration, and a relentless pursuit of perfection. From humble beginnings, we''ve grown into a design powerhouse, thanks to our clients who entrusted us with their dreams and our team that turned those dreams into reality.",
    "paragraph4": "Every project we undertake is a new chapter in our story, a chance to create something beautiful, something meaningful. Join us as we continue to craft spaces that inspire, comfort, and delight.",
    "image": "https://images.unsplash.com/photo-1522071820081-009f0129c71c?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3NDE5ODJ8MHwxfHNlYXJjaHwyfHx0ZWFtJTIwbWVldGluZ3xlbnwwfHx8fDE3NTYxOTMyNDN8MA&ixlib=rb-4.1.0&q=80&w=1080"
  }'),
((SELECT id from pages WHERE slug = 'about'), 'journey', 'Our Journey', 2, true,
  '{
    "heading": {"type": "text", "label": "Heading"},
    "paragraph1": {"type": "textarea", "label": "Paragraph 1"},
    "paragraph2": {"type": "textarea", "label": "Paragraph 2"},
    "paragraph3": {"type": "textarea", "label": "Paragraph 3"},
    "paragraph4": {"type": "textarea", "label": "Paragraph 4"},
    "image": {"type": "image", "label": "Image"}
  }',
  '{
    "heading": "Our Journey",
    "paragraph1": "From a small studio to a leading design firm in Pune, our journey has been one of growth, learning, and passion. We started with a handful of projects, each one an opportunity to prove our mettle and refine our craft.",
    "paragraph2": "We believe in the power of collaboration, both within our team and with our clients. This collaborative spirit has been the cornerstone of our success, enabling us to tackle complex challenges and deliver exceptional results.",
    "paragraph3": "Technology has played a pivotal role in our evolution. By embracing cutting-edge tools like 3D visualization and contactless design processes, we''ve been able to offer our clients a more immersive and convenient experience.",
    "paragraph4": "As we look to the future, we are excited to continue pushing the boundaries of design, exploring new materials, and creating spaces that are not only beautiful but also sustainable and future-ready.",
    "image": "https://images.unsplash.com/photo-1542744095-291d1f67b221?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3NDE5ODJ8MHwxfHNlYXJjaHwxfHxqb3VybmV5JTIwc3RhcnR8ZW58MHx8fHwxNzU2MTkzNTk1fDA&ixlib=rb-4.1.0&q=80&w=1080"
  }'),
((SELECT id from pages WHERE slug = 'about'), 'values', 'Our Values', 3, true,
  '{
    "title": {"type": "text", "label": "Title"},
    "subtitle": {"type": "textarea", "label": "Subtitle"},
    "items": {"type": "repeater", "label": "Value Items"}
  }',
  '{
    "title": "Our Values",
    "subtitle": "The principles that guide us.",
    "items": [
      {"title": "Expert Design Team", "description": "Our team of experienced designers works closely with you to bring your vision to life."},
      {"title": "Variety of Design Choices", "description": "We offer a wide range of designs and materials to suit every taste and budget."},
      {"title": "Affordable Design Fees", "description": "Get premium design solutions without breaking the bank. We believe in transparent pricing."},
      {"title": "On-Time Project Delivery", "description": "We respect your time and are committed to completing projects on schedule."}
    ]
  }'),
((SELECT id from pages WHERE slug = 'about'), 'mission_vision', 'Mission and Vision', 4, true,
  '{
    "visionTitle": {"type": "text", "label": "Vision Title"},
    "visionText": {"type": "textarea", "label": "Vision Text"},
    "missionTitle": {"type": "text", "label": "Mission Title"},
    "missionText": {"type": "textarea", "label": "Mission Text"}
  }',
  '{
    "visionTitle": "Our Vision",
    "visionText": "To be the most trusted and sought-after interior design firm, known for our innovative designs, exceptional quality, and unwavering commitment to client satisfaction.",
    "missionTitle": "Our Mission",
    "missionText": "To create beautiful, functional, and personalized living spaces that enhance the quality of life for our clients, through a collaborative and transparent design process."
  }'),
((SELECT id from pages WHERE slug = 'about'), 'team', 'Meet the Team', 5, true,
  '{
    "title": {"type": "text", "label": "Title"},
    "subtitle": {"type": "textarea", "label": "Subtitle"},
    "members": {"type": "repeater", "label": "Team Members"}
  }',
  '{
    "title": "Meet the Team",
    "subtitle": "The creative minds behind our designs.",
    "members": [
      {"name": "Deepak Sharma", "role": "Founder & Principal Designer", "bio": "With over a decade of experience, Deepak leads the team with his passion for innovative design and attention to detail.", "image": "https://images.unsplash.com/photo-1557862921-37829c790f19?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3NDE5ODJ8MHwxfHNlYXJjaHwxfHxzbWlsaW5nJTIwbWFuJTIwaW5kaWFufGVufDB8fHx8MTc1NjA0NjY0OHww&ixlib=rb-4.1.0&q=80&w=1080"},
      {"name": "Priya Singh", "role": "Lead Interior Designer", "bio": "Priya specializes in creating personalized spaces that are both beautiful and highly functional, with a keen eye for color and texture.", "image": "https://images.unsplash.com/photo-1543165384-245f3a093754?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3NDE5ODJ8MHwxfHNlYXJjaHw0fHxzbWlsaW5nJTIwd29tYW58ZW58MHx8fHwxNzU2MDQ2NTYxfDA&ixlib=rb-4.1.0&q=80&w=1080"},
      {"name": "Amit Kumar", "role": "Project Manager", "bio": "Amit ensures that every project is executed flawlessly, from procurement to final installation, keeping everything on time and on budget.", "image": "https://images.unsplash.com/photo-1530268729831-4b0b9e170218?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3NDE5ODJ8MHwxfHNlYXJjaHw0fHxpbmRpYW4lMjBwZXJzb258ZW58MHx8fHwxNzU2MTk0ODk1fDA&ixlib=rb-4.1.0&q=80&w=1080"}
    ]
  }');
